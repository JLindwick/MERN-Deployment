{"ast":null,"code":"import _slicedToArray from\"/Users/justinrussell/Desktop/mern/React Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useParams,useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PirateList=function PirateList(props){var removeFromDom=props.removeFromDom;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasPirates=_useState2[0],setHasPirates=_useState2[1];var style={\"border\":\"1px solid black\",\"width\":\"35%\"};var deletePirate=function deletePirate(pirateId){axios.delete('http://localhost:8000/pirate/'+pirateId).then(function(res){removeFromDom(pirateId);}).catch(function(err){return console.error(err);});};var viewPirate=function viewPirate(pirateId){navigate('/pirate/'+pirateId);};var sortedPiratesList=props.pirates.sort(function(prev,next){return prev.name.localeCompare(next.name);});useEffect(function(){if(props.pirates.length>0){setHasPirates(true);}});console.log(hasPirates);return/*#__PURE__*/_jsx(\"div\",{children:hasPirates?sortedPiratesList.map(function(pirate,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{style:style,children:[/*#__PURE__*/_jsx(\"thead\",{style:{\"background\":\"darkgrey\",\"color\":\"white\"},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Pirate Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Actions available\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"p\",{style:{\"color\":\"blue\"},children:[pirate.name,/*#__PURE__*/_jsx(\"img\",{style:{\"width\":\"20%\"},src:pirate.url})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){viewPirate(pirate._id);},children:\"View Pirate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){deletePirate(pirate._id);},children:\"WALK THE PLANK\"}),\"\\xA0\"]})]})})]})},i);}):/*#__PURE__*/_jsx(\"p\",{children:\"hi\"})});};export default PirateList;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","Link","PirateList","props","removeFromDom","navigate","hasPirates","setHasPirates","style","deletePirate","pirateId","delete","then","res","catch","err","console","error","viewPirate","sortedPiratesList","pirates","sort","prev","next","name","localeCompare","length","log","map","pirate","i","url","e","_id"],"sources":["/Users/justinrussell/Desktop/mern/React Project/client/src/components/PirateListComponent.js"],"sourcesContent":["import React, {useState,useEffect} from 'react'\nimport axios from 'axios'\nimport {useParams,useNavigate,Link} from 'react-router-dom';\n\nconst PirateList = (props) => {\n    const { removeFromDom } = props;\n    const navigate = useNavigate();\n    const [hasPirates,setHasPirates] = useState(false);\n\n    const style = {\n        \"border\":\"1px solid black\",\n        \"width\":\"35%\",\n    }\n\n    const deletePirate = (pirateId) => {\n        axios.delete('http://localhost:8000/pirate/' + pirateId)\n            .then(res => {\n                removeFromDom(pirateId)\n            })\n            .catch(err => console.error(err));\n    }\n    const viewPirate = (pirateId) => {\n        navigate('/pirate/' + pirateId )\n    }\n    const sortedPiratesList = props.pirates.sort(function (prev, next) {\n        return prev.name.localeCompare( next.name );\n    });\n    useEffect(()=>{\n        if(props.pirates.length>0) {\n            setHasPirates(true)\n        }\n    });\n    console.log(hasPirates)\n    return (\n        <div>\n            {hasPirates? sortedPiratesList.map( (pirate, i) =>\n                <div key={i}>\n                <table style={style}>\n                    <thead style={{\"background\":\"darkgrey\",\"color\":\"white\"}}>\n                        <tr >\n                            <td >Pirate Name</td>\n                            <td>Actions available</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr >\n                            <td><p style={{\"color\":\"blue\"}}>{pirate.name}<img style={{\"width\":\"20%\"}} src={pirate.url}></img></p></td>\n                            \n                            <td>\n                                <button onClick={(e)=>{viewPirate(pirate._id)}}>View Pirate</button>\n                                <button onClick={(e)=>{deletePirate(pirate._id)}}>WALK THE PLANK</button>&nbsp;\n                            </td>\n                            \n                        </tr>\n                    </tbody>\n                </table>\n                </div>\n                \n            ):<p>hi</p>}\n        </div>\n    )\n\n}\nexport default PirateList;"],"mappings":"4IAAA,MAAOA,MAAK,EAAGC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC/C,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,SAAS,CAACC,WAAW,CAACC,IAAI,KAAO,kBAAkB,CAAC,wFAE5D,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,KAAK,CAAK,CAC1B,GAAQC,cAAa,CAAKD,KAAK,CAAvBC,aAAa,CACrB,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,cAAmCJ,QAAQ,CAAC,KAAK,CAAC,wCAA3CU,UAAU,eAACC,aAAa,eAE/B,GAAMC,MAAK,CAAG,CACV,QAAQ,CAAC,iBAAiB,CAC1B,OAAO,CAAC,KACZ,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,QAAQ,CAAK,CAC/BZ,KAAK,CAACa,MAAM,CAAC,+BAA+B,CAAGD,QAAQ,CAAC,CACnDE,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTT,aAAa,CAACM,QAAQ,CAAC,CAC3B,CAAC,CAAC,CACDI,KAAK,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CACzC,CAAC,CACD,GAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIR,QAAQ,CAAK,CAC7BL,QAAQ,CAAC,UAAU,CAAGK,QAAQ,CAAE,CACpC,CAAC,CACD,GAAMS,kBAAiB,CAAGhB,KAAK,CAACiB,OAAO,CAACC,IAAI,CAAC,SAAUC,IAAI,CAAEC,IAAI,CAAE,CAC/D,MAAOD,KAAI,CAACE,IAAI,CAACC,aAAa,CAAEF,IAAI,CAACC,IAAI,CAAE,CAC/C,CAAC,CAAC,CACF3B,SAAS,CAAC,UAAI,CACV,GAAGM,KAAK,CAACiB,OAAO,CAACM,MAAM,CAAC,CAAC,CAAE,CACvBnB,aAAa,CAAC,IAAI,CAAC,CACvB,CACJ,CAAC,CAAC,CACFS,OAAO,CAACW,GAAG,CAACrB,UAAU,CAAC,CACvB,mBACI,qBACKA,UAAU,CAAEa,iBAAiB,CAACS,GAAG,CAAE,SAACC,MAAM,CAAEC,CAAC,qBAC1C,kCACA,eAAO,KAAK,CAAEtB,KAAM,wBAChB,cAAO,KAAK,CAAE,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,OAAO,CAAE,uBACpD,mCACI,mCAAqB,cACrB,yCAA0B,GACzB,EACD,cACR,oCACI,mCACI,iCAAI,WAAG,KAAK,CAAE,CAAC,OAAO,CAAC,MAAM,CAAE,WAAEqB,MAAM,CAACL,IAAI,cAAC,YAAK,KAAK,CAAE,CAAC,OAAO,CAAC,KAAK,CAAE,CAAC,GAAG,CAAEK,MAAM,CAACE,GAAI,EAAO,GAAI,EAAK,cAE1G,mCACI,eAAQ,OAAO,CAAE,iBAACC,CAAC,CAAG,CAACd,UAAU,CAACW,MAAM,CAACI,GAAG,CAAC,EAAE,yBAAqB,cACpE,eAAQ,OAAO,CAAE,iBAACD,CAAC,CAAG,CAACvB,YAAY,CAACoB,MAAM,CAACI,GAAG,CAAC,EAAE,4BAAwB,UACxE,GAEJ,EACD,GACJ,EAnBEH,CAAC,CAoBL,GAET,cAAC,yBAAS,EACT,CAGd,CAAC,CACD,cAAe5B,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}